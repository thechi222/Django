<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="UTF-8">
  <title>æŸ¥è©¢æ©Ÿç¥¨ | FlyHunt</title>
  <style>
    body {
      font-family: "Noto Sans TC", sans-serif;
      background-color: #ffffff;
      margin: 0;
      padding: 0;
      color: #222;
    }

    header {
      background-color: #04361f;
      color: white;
      padding: 10px;
      text-align: center;
    }

    .site-title {
      font-size: 24px;
      font-weight: bold;
      font-style: italic;
      letter-spacing: 1px;
      margin: 0;
    }

    .form-container {
      max-width: 600px;
      margin: 40px auto;
      padding: 0 20px;
    }

    .trip-type-tabs {
      display: flex;
      justify-content: space-around;
      border-bottom: 1px solid #ccc;
      margin-top: 30px;
    }

    .trip-tab {
      flex: 1;
      text-align: center;
      padding: 10px;
      font-weight: bold;
      cursor: pointer;
      color: #444;
    }

    .trip-tab.active {
      background-color: #04361f;
      color: white;
      border-radius: 4px 4px 0 0;
    }

    .section {
      text-align: center;
      margin: 30px 0;
    }

    .route {
      display: flex;
      justify-content: space-around;
      align-items: center;
    }

    .select-button {
      padding: 10px 20px;
      background-color: #f2f2f2;
      border: 1px solid #ccc;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      font-size: 16px;
    }

    .arrow {
      font-size: 24px;
    }

    .input-popup {
      margin-top: 15px;
      text-align: center;
    }

    .input-popup input {
      width: 80%;
      padding: 10px;
      font-size: 16px;
    }

    .autocomplete-list {
      position: relative;
      max-width: 80%;
      margin: 0 auto;
      background-color: white;
      border: 1px solid #ccc;
      text-align: left;
    }

    .autocomplete-item {
      padding: 10px;
      cursor: pointer;
    }

    .autocomplete-item:hover {
      background-color: #eee;
    }

    .inline {
      display: flex;
      justify-content: space-around;
      align-items: center;
      margin-top: 20px;
    }

    .inline select {
      padding: 10px;
      font-size: 16px;
      width: 45%;
    }

    .submit-btn {
      width: 100%;
      background-color: #04361f;
      color: white;
      font-size: 18px;
      font-weight: bold;
      padding: 16px;
      border: none;
      border-radius: 0;
      margin-top: 40px;
      cursor: pointer;
    }

    footer {
      margin-top: 80px;
      text-align: center;
      font-size: 13px;
      color: #999;
    }

    .notice {
      font-size: 14px;
      background-color: #79791d;
      border-left: 5px solid white;
      padding: 10px;
      margin-top: 20px;
      text-align: left;
    }
  </style>
</head>

<body>
  <header>
    <h1 class="site-title">FlyHunt</h1>
  </header>

  <form action="{% url 'crawl_ptt_food' %}" method="POST" class="form-container">
    {% csrf_token %}

    <div class="trip-type-tabs">
      <div class="trip-tab active" onclick="selectTripType('round')">ä¾†å›</div>
      <div class="trip-tab" onclick="selectTripType('oneway')">å–®ç¨‹</div>
    </div>

    <div class="section">
      <label>æˆ‘è¦å‰å¾€</label>
      <div class="route">
        <div class="select-button" onclick="toggleInput('origin')">å‡ºç™¼åœ°</div>
        <div class="arrow">â‡„</div>
        <div class="select-button" onclick="toggleInput('destination')">ç›®çš„åœ°</div>
      </div>

      <div id="origin-input" class="input-popup" style="display: none;">
        <input type="text" name="origin" id="origin" placeholder="è¼¸å…¥å‡ºç™¼åœ°" onkeyup="autocomplete(this, 'origin-list')"
          required>
        <div id="origin-list" class="autocomplete-list"></div>
      </div>

      <div id="destination-input" class="input-popup" style="display: none;">
        <input type="text" name="destination" id="destination" placeholder="è¼¸å…¥ç›®çš„åœ°"
          onkeyup="autocomplete(this, 'destination-list')" required>
        <div id="destination-list" class="autocomplete-list"></div>
      </div>
    </div>

    <div class="section">
      <label>æ—…è¡Œæ—¥æœŸ</label>
      <input type="date" name="depart_date" required>
      <div id="return-date-wrapper" style="margin-top: 10px;">
        <label>å›ç¨‹æ—¥æœŸ</label>
        <input type="date" name="return_date">
      </div>
    </div>

    <div class="section">
      <label>äººæ•¸</label>
      <div class="inline">
        <select name="passengers">
          {% for i in passenger_range %}
          <option value="{{ i }}">äººæ•¸ {{ i }} ä½</option>
          {% endfor %}
        </select>
      </div>
    </div>



    </div>

    <div class="notice">ğŸ“¢ é è¨‚æ—¥æœ¬åœ‹å…§ç·šèˆªç­ï¼Œè«‹è‡³å°‘æå‰ 3 å¤©æŸ¥è©¢</div>

    <button type="submit" class="submit-btn">æœå°‹èˆªç­ â†’</button>
  </form>

  <footer>
    Â© 2025 FlyHunt. All rights reserved.
  </footer>

  <script>
    const cities = ["å°åŒ—", "æ±äº¬", "å¤§é˜ª", "å°ä¸­", "é«˜é›„", "é¦™æ¸¯", "é¦–çˆ¾", "æ–°åŠ å¡", "æ›¼è°·", "å‰éš†å¡", "å€«æ•¦", "å·´é»", "ç´ç´„", "æ´›æ‰ç£¯", "èˆŠé‡‘å±±"];

    function toggleInput(type) {
      document.getElementById(`${type}-input`).style.display = 'block';
    }

    function selectTripType(type) {
      document.querySelectorAll('.trip-tab').forEach(tab => tab.classList.remove('active'));
      if (type === 'round') {
        document.querySelector('.trip-tab:nth-child(1)').classList.add('active');
        document.getElementById('return-date-wrapper').style.display = 'block';
      } else {
        document.querySelector('.trip-tab:nth-child(2)').classList.add('active');
        document.getElementById('return-date-wrapper').style.display = 'none';
      }
    }

    function autocomplete(inputElem, listId) {
      const listElem = document.getElementById(listId);
      const value = inputElem.value.toLowerCase();
      listElem.innerHTML = "";
      if (value === "") return;

      const filtered = cities.filter(city => city.toLowerCase().includes(value));
      filtered.forEach(city => {
        const item = document.createElement("div");
        item.classList.add("autocomplete-item");
        item.innerText = city;
        item.onclick = () => {
          inputElem.value = city;
          listElem.innerHTML = "";
        };
        listElem.appendChild(item);
      });
    }
  </script>
</body>

</html>